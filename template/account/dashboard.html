{% extends 'base.html' %}
{%   load crispy_forms_tags  %}
{% load humanize %}
{% load static %}
{% load i18n %}




{% block head_title %}{% trans "Sign In" %}{% endblock %}
{% block body %}

        <main class="main">
        	<div class="page-header text-center" style="background-image: url('assets/images/page-header-bg.jpg')">
        		<div class="container">
        			<h1 class="page-title">My Account<span>{{  user }}</span></h1>
        		</div><!-- End .container -->
        	</div><!-- End .page-header -->
            <nav aria-label="breadcrumb" class="breadcrumb-nav mb-3">
                <div class="container">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="{%  url 'index:home' %}">Home</a></li>
                        <li class="breadcrumb-item"><a href="#">{{  user }}</a></li>
                        <li class="breadcrumb-item active" aria-current="page">My Account</li>
                    </ol>
                </div><!-- End .container -->
            </nav><!-- End .breadcrumb-nav -->
			
            <div class="page-content">
            	<div class="dashboard">
	                <div class="container">
						<div class="row">
							<div class="col">
								{%  for message in messages %}
								<div  class="alert alert-warning alert-dismissible fade show" role="alert">
									{{ message }}
								</div>
								{% endfor %}
							</div>
						</div>
	                	<div class="row">
	                		<aside class="col-md-4 col-lg-3">
	                			<ul class="nav nav-dashboard flex-column mb-3 mb-md-0 text-uppercase" role="tablist">
									{%  if user.is_authenticated %}
								    <li class="nav-item">
										
								        <a class="nav-link active" id="tab-dashboard-link" 
										data-toggle="tab" href="#tab-dashboard" role="tab" 
										aria-controls="tab-dashboard" aria-selected="true">
										My account
									   </a>
									   
								    </li>
									{%  else %}
								    <li class="nav-item">
									   
										 <a class="nav-link active" id="tab-dashboard-link" 
										 data-toggle="tab" href="#tab-dashboard" role="tab" 
										 aria-controls="tab-dashboard" aria-selected="true">my account</a>
								    </li>
									{% endif %}
								    <!-- <li class="nav-item">
								        <a class="nav-link" id="tab-orders-link" data-toggle="tab" 
										href="#tab-orders" role="tab" aria-controls="tab-orders" aria-selected="false">ORDER HISTORY</a>
								    </li> -->
								    <li class="nav-item">
								        <a class="nav-link" id="tab-downloads-link" 
										data-toggle="tab" href="#tab-downloads" 
										role="tab" aria-controls="tab-downloads" aria-selected="false">Saved Items</a>
								    </li>
								    <!-- <li class="nav-item">
								        <a class="nav-link" id="tab-address-link" data-toggle="tab"
										 href="#tab-address" role="tab" aria-controls="tab-address" aria-selected="false">Adresses</a>
								    </li> -->
									
								    <li class="nav-item">
								        <a class="nav-link" id="tab-account-link" data-toggle="tab" 
										href="#tab-account" role="tab" aria-controls="tab-account" aria-selected="false">Edit Account</a>
								    </li>

								    <li class="nav-item">
								        <a class="nav-link" href="{%  url 'index:logout' %}">Logout</a>
								    </li>
								</ul>
	                		</aside><!-- End .col-lg-3 -->

	                		<div class="col-md-8 col-lg-9">
	                			<div class="tab-content">
								    <div class="tab-pane fade show active" id="tab-dashboard" role="tabpanel" aria-labelledby="tab-dashboard-link">
								    	{%  if user.is_authenticated %}
										<p style="font-size:20px;">
											Account 
											<span class="font-weight-bold text-uppercase" style="font-size: 20px;color:#5FA027">&nbsp;&nbsp;Overview </span> 	 
								    	</p>
										<div class="container">
											<div class="row">
												<div class="col-sm-4" id="show-none">
													<div class="card  card-dashboard p-4">
														<div class="card-header ">
															ACCOUNT DETAILS
															<!-- <a href="" class="float-right" id="show-none"  style="font-size:20px;">
																<i class="la la-edit"></i>
															</a> -->
														</div>
														<hr>
														<h3 style="font-size:20px;">
															{{  user.first_name }} &nbsp; {{  user.last_name }} 
														</h3>
														<p>
														<p>{{ user.email }}</p>
														<a href="{% url 'account_reset_password' %}">CHANGE YOUR PASSWORD</a></p>
													</div>
												</div>
												<!-- <div class="col-sm-4 show" style="display: none;">
                                                     happy
												</div> -->
											</div>
										</div>

										{% else %}
											
										<div class="container">
											<div class="row">
												<div class="col-12">
													<p>NEW  <span class="font-weight-normal text-dark">CUSTOMER</span></p>
												</div>
											</div>
											<div class="row">
												<div class="col-sm-4">
												  <div class="card02 ">
													<div class="m-4">
													  <!-- <h2 class="card-title mb-2 mt-2">NEW CUSTOMER</h2> -->
													  <p class="">Register Account</p>
													  <p class="card-text">
														By creating an account you will be able to shop faster, 
														be up to date on an order's status, and keep track
														of the orders you have previously made.
													  </p>
													  <a href="{% url 'index:register' %}" class="btn btn-primary">Register</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
													  <span> Have Account <a href="{% url 'index:login' %}">Login</a></span> 
													</div>
												  </div>
												</div>
											  </div>
										</div>
										{%  endif %}
								    </div><!-- .End .tab-pane -->
									<p></p>
								    <div class="tab-pane fade" id="tab-orders" role="tabpanel" aria-labelledby="tab-orders-link">
										{%  if user.is_authenticated %}
								    	<p>No order has been made yet.</p>
								    	<a href="category.html" class="btn btn-outline-primary-2"><span>GO </span>
											<i class="icon-long-arrow-right"></i></a>
									    {% else %}
										<div class="container">
											<div class="row">
												<div class="col-12">
													<p>NEW  <span class="font-weight-normal text-dark">CUSTOMER</span></p>
												</div>
											</div>
											<div class="row">
												<div class="col-sm-4">
												  <div class="card02 ">
													<div class="m-4">
													  <!-- <h2 class="card-title mb-2 mt-2">NEW CUSTOMER</h2> -->
													  <p class="">Register Account</p>
													  <p class="card-text">
														By creating an account you will be able to shop faster, 
														be up to date on an order's status, and keep track
														of the orders you have previously made.
													  </p>
													  <a href="{% url 'index:register' %}" class="btn btn-primary">Register</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
													  <span> Have Account <a href="{% url 'index:login' %}">Login</a></span> 
													</div>
												  </div>
												</div>
											  </div>
										</div>
										{% endif %}
								    </div><!-- .End .tab-pane -->

								    <div class="tab-pane fade" id="tab-downloads" role="tabpanel" aria-labelledby="tab-downloads-link">
								    	{%  if user.is_authenticated %}
								    	<div class="">
											<table class="table table-wishlist table-mobile">
												<thead>
													<tr>
														<th>Product</th>
														<th>Price</th>
														<th>Stock Status</th>
														<th>Action</th>
														<!-- <th>action</th> -->
													</tr>
												</thead>
						
												<tbody>
													{%  for i in wishlist %}
													<tr>
														<td class="product-col">
															<div class="product">
																
																<figure class="product-media">
																	
																	<a href="#">
																		<img src="{{  i.product.imageURL  }}" alt="Product image">
																	</a>
																	
																</figure>
						
																<h3 class="product-title">
																	<a href="#">{{  i.product.name  }}</a>
																</h3><!-- End .product-title -->
															</div><!-- End .product -->
														</td>
														<td class="price-col">{{ i.product.price }}</td>
														<td class="stock-col"><span class="in-stock">In stock</span></td>
														<td class="action-col">
															<a href="{%  url 'index:addcart' i.product.id %}">
																<i class="icon-cart-plus bg-primary p-1" style="font-size:25px;color: white;"></i>
															</a>
															<span>
																<a href="{%  url 'index:deletewish' i.id %}">
																   <i class="icon-close bg-primary p-1" style="font-size: 25px;color: white;"></i>
															    </a>
															</span>
														</td>
														<!-- <td class="remove-col"><button class="btn-remove"></button></td> -->
													</tr>
												{%  endfor %}
												</tbody>
											</table><!-- End .table table-wishlist -->
											
										</div><!-- End .container -->
									    {% else %}
										<div class="container">
											<div class="row">
												<div class="col-12">
													<p>NEW  <span class="font-weight-normal text-dark">CUSTOMER</span></p>
												</div>
											</div>
											<div class="row">
												<div class="col-sm-4">
												  <div class="card02 ">
													<div class="m-4">
													  <!-- <h2 class="card-title mb-2 mt-2">NEW CUSTOMER</h2> -->
													  <p class="">Register Account</p>
													  <p class="card-text">
														By creating an account you will be able to shop faster, 
														be up to date on an order's status, and keep track
														of the orders you have previously made.
													  </p>
													  <a href="{% url 'index:register' %}" class="btn btn-primary">Register</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
													  <span> Have Account <a href="{% url 'index:login' %}">Login</a></span> 
													</div>
												  </div>
												</div>
											  </div>
										</div>
										{% endif %}
								    </div><!-- .End .tab-pane -->

								    <div class="tab-pane fade" id="tab-address" role="tabpanel" aria-labelledby="tab-address-link">
										{%  if user.is_authenticated %}
								    	<p>The following addresses will be used on the checkout page by default.</p>
								    	<div class="row">
								    		<div class="col-lg-6">
								    			<div class="card card-dashboard">
								    				<div class="card-body">
								    					<h3 class="card-title">Billing Address</h3><!-- End .card-title -->

														<p>User Name<br>
														User Company<br>
														John str<br>
														New York, NY 10001<br>
														1-234-987-6543<br>
														yourmail@mail.com<br>
														<a href="#">Edit <i class="icon-edit"></i></a></p>
								    				</div><!-- End .card-body -->
								    			</div><!-- End .card-dashboard -->
								    		</div><!-- End .col-lg-6 -->

								    		<div class="col-lg-6">
								    			<div class="card card-dashboard">
								    				<div class="card-body">
								    					<h3 class="card-title">Shipping Address</h3><!-- End .card-title -->

														<p>You have not set up this type of address yet.<br>
														<a href="#">Edit <i class="icon-edit"></i></a></p>
								    				</div><!-- End .card-body -->
								    			</div><!-- End .card-dashboard -->
								    		</div><!-- End .col-lg-6 -->
								    	</div><!-- End .row -->
										{% else %}
										<div class="row">
											<div class="col-12">
												<p>Not a User  <span class="font-weight-normal" style="color: #5FA027;">NEW CUSTOMER</span></p>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-6">
											<div class="card02 ">
												<div class="m-4">
												<!-- <h2 class="card-title mb-2 mt-2">NEW CUSTOMER</h2> -->
												<p class="">Register Account</p>
												<p class="card-text">
													By creating an account you will be able to shop faster, 
													be up to date on an order's status, and keep track
													of the orders you have previously made.
												</p>
												<a href="{% url 'index:register' %}" class="btn btn-primary">Register</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
												<span> Have Account <a href="{% url 'index:login' %}">Login</a></span> 
												</div>
											</div>
											</div>
										</div>
										{% endif %}
								    </div><!-- .End .tab-pane -->

								    <div class="tab-pane fade" id="tab-account" role="tabpanel" aria-labelledby="tab-account-link">
									   {%  if user.is_authenticated %}

								    	<form  method="post">
											{% csrf_token %}
			                				<div class="row">
			                					<div class="col-sm-6">
			                						<label>First Name *</label>
			                						<input type="text" class="form-control" name="first_name" id="first_name" value="{{ user.first_name }}" >
			                					</div><!-- End .col-sm-6 -->
			                					<div class="col-sm-6">
			                						<label>Last Name *</label>
			                						<input type="text" class="form-control" name="last_name" id="last_name" value="{{ user.last_name }}" >
			                					</div><!-- End .col-sm-6 -->

			                					<div class="col-sm-6">
			                						<label>Username *</label>
			                						<input type="text" class="form-control" id="username" name="username"  value="{{ user.username }}">
			                					</div>
			                					<div class="col-sm-6">
			                						<label>Phone Number(Option) *</label>
			                						<input type="text" class="form-control" id="phonenumber" name="phonenumber"  value="{{ user.phonenumber }}">
			                					</div><!-- End .col-sm-6 -->
			                					<div class="col-sm-12">
			                						<label>Email address *</label>
		        							        <input type="email" class="form-control" name="email" id="email" value="{{  user.email }}">
			                					</div><!-- End .col-sm-6 -->
			                				</div><!-- End .row -->
											<input type="submit" class="btn btn-outline-primary-2"  value="SAVE CHANGES">
		                					<!-- <button type="submit" class="btn btn-outline-primary-2">
			                					<span></span>
			            						<i class="icon-long-arrow-right"></i>
			                				</button> -->
			                			</form>
										{% else %}
											<div class="container">
												<div class="row">
													<div class="col-12">
														<p>Not a User  <span class="font-weight-normal" style="color: #5FA027;">NEW CUSTOMER</span></p>
													</div>
												</div>
												<div class="row">
													<div class="col-sm-4">
													<div class="card02 ">
														<div class="m-4">
														<!-- <h2 class="card-title mb-2 mt-2">NEW CUSTOMER</h2> -->
														<p class="">Register Account</p>
														<p class="card-text">
															By creating an account you will be able to shop faster, 
															be up to date on an order's status, and keep track
															of the orders you have previously made.
														</p>
														<a href="{% url 'account_signup' %}" class="btn btn-primary">Register</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
														<span> Have Account <a href="{% url 'account_login' %}">Login</a></span> 
														</div>
													</div>
													</div>
												</div>
											</div>
										{% endif %}
								    </div><!-- .End .tab-pane -->
								</div>
	                		</div><!-- End .col-lg-9 -->
	                	</div><!-- End .row -->
	                </div><!-- End .container -->
                </div><!-- End .dashboard -->
            </div><!-- End .page-content -->
        </main><!-- End .main -->

		

{% endblock  %}
